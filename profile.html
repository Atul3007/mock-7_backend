<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Profile</h1>
    <div id="content">

    </div>
</body>
</html>
<script>
async function getdata(){
        try {
            let res=await fetch("https://mock-7-7mmy.onrender.com/api/get",{
            method:"GET",
            headers:{
                'Authorization':localStorage.getItem("token")
            }
        })
        let data=await res.json();
        console.log(data);
         render(data);
        } catch (error) {
            console.log(error);
        }
    }
    function render(data){
        document.querySelector("#content").innerHTML="";
        data.forEach(element => {
            let div=document.createElement("div");
            let title=document.createElement("h2");
            title.innerText=`Title : ${element.name}`;
            let img=document.createElement("img");
            img.innerText=`img : ${element.url}`;
            let category=document.createElement("p");
            category.innerText=`phone : ${element.phone}`;
            let mail=document.createElement("p");
            mail.innerText=`mail : ${element.email}`;
            let bio=document.createElement("p");
            bio.innerText=`bio : ${element.bio}`;
            let pass=document.createElement("p");
            pass.innerText=`pass : ${element.pass}`;
            let update=document.createElement("button");
            update.innerText="Update";
            update.addEventListener("click",()=>{
                let id=element._id;
                window.location.href="update.html?id="+id;
            })
            
            div.append(img,title,bio,category,mail,update);
            document.querySelector("#content").append(div);
        })
    }
    getdata();
</script>
